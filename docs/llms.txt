# The whalestrike package

## Purpose

This package provides tools for simulating the collisions of ships with
whales, using a simplified dynamical structure involving point masses
separated by compressible materials. Along with functions for
computations of forces, deformations, accelerations, etc., the package
provides a easy-to-use GUI tool that makes it easy to set up some common
simulation scenarios, and to display the results in graphical form.

To learn more about the scientific background, and to see the results of
some detailed computations placed in the context of a database of
observed strikes, see Kelley et al. (2021). For more information on the
coding, see Kelley (2024).

## Installation

The package is not yet available on CRAN, and must be installed from
source. This can be done either by downloading the source and building
it locally, or by the simpler method of typing

``` r
# install.package("remotes")
remotes::install_github("dankelley/whalestrike", ref="main")
```

in an R session. (Uncomment the first line, if the `remotes` package is
not yet installed on your machine.)

## Usage

Most users will find that the GUI application is a good way to learn
about the package. To start this, type

``` r
library(whalestrike)
app()
```

in an R session. A window will open in your browser. On the left-hand
side is a region with controllers, many hidden in sub-panels that can be
opened by clicking on V-shaped icons. Before opening those sub-panels,
try adjusting the ship speed, to see what happens to the plots,
especially the one labelled `Lethality Index`. Think about whether the
tendency of variations to the index are in line with your intuition.
Next, open the `Ship` sub-panel, to explore the result of altering the
ship mass. This sub-panel also has controllers specifying the geometry
of the impact region, and you ought to explore them, also. Continuing to
explore the app’s controllers ought to give you a good indication of
what the tool provides. To learn more, try consulting the app’s
documentation, provided (a) as the response to typing
[`? app`](https://dankelley.github.io/whalestrike/reference/app.md) in
the R console, (b) as information in a dialog box that opens when the
`Help` button is clicked, and (c) in a [youtube
video](https://youtu.be/kTMl3nXa5A4) and a brief [followup youtube
video](https://youtu.be/f8nHGikb9ug) that illustrates an alteration made
after a helpful comment from a review of a Journal of Open-Source
Software manuscript about the package.

Users who want more control, and who want to deal with the results in
numerical as opposed to graphical form, should try clicking the `Code`
button in
[`app()`](https://dankelley.github.io/whalestrike/reference/app.md), to
see the R code that runs the simulation outside the app. The next step
will be to explore the functions used in that code. Documentation exists
for each of these functions e.g. typing

``` r
library(whalestrike)
?strike
```

in an R session will provide information on
[`strike()`](https://dankelley.github.io/whalestrike/reference/strike.md),
which is a key function in the package.

## References

- Kelley, Dan E., James P. Vlasic, and Sean W. Brillant. “Assessing the
  Lethality of Ship Strikes on Whales Using Simple Biophysical Models.”
  Marine Mammal Science 37, no. 1 (January 2021): 251–67.
  <https://doi.org/10.1111/mms.12745>. ([journal
  site](https://doi.org/10.1111/mms.12745); [ResearchGate
  Preprint](https://www.researchgate.net/publication/344748816_Assessing_the_lethality_of_ship_strikes_on_whales_using_simple_biophysical_models))

- Kelley, D. E., (2024). whalestrike: An R package for simulating ship
  strikes on whales. Journal of Open Source Software, 9(97), 6473,
  <https://doi.org/10.21105/joss.06473>

# Package index

## All functions

- [`app()`](https://dankelley.github.io/whalestrike/reference/app.md) :
  GUI application for whale simulation
- [`app_2025()`](https://dankelley.github.io/whalestrike/reference/app_2025.md)
  : GUI app for interactive whale-strike simulations (OLD VERSION, no
  longer maintained)
- [`derivative()`](https://dankelley.github.io/whalestrike/reference/derivative.md)
  : Calculate derivative using first difference
- [`dynamics()`](https://dankelley.github.io/whalestrike/reference/dynamics.md)
  : Dynamical law
- [`fillplot()`](https://dankelley.github.io/whalestrike/reference/fillplot.md)
  : Draw polygon between two xy curves
- [`knot2mps()`](https://dankelley.github.io/whalestrike/reference/knot2mps.md)
  : Convert a speed in knots to a speed in m/s
- [`lethalityIndexFromStress()`](https://dankelley.github.io/whalestrike/reference/lethalityIndexFromStress.md)
  : Compute lethality index, based on compression stress
- [`maximumLethalityIndex()`](https://dankelley.github.io/whalestrike/reference/maximumLethalityIndex.md)
  : Find maximum Lethality Index during a strike
- [`mps2knot()`](https://dankelley.github.io/whalestrike/reference/mps2knot.md)
  : Convert a speed in m/s to a speed in knots
- [`parameters()`](https://dankelley.github.io/whalestrike/reference/parameters.md)
  : Set parameters for a whale strike simulation
- [`pin()`](https://dankelley.github.io/whalestrike/reference/pin.md) :
  Pin numerical values between stated limits
- [`plot(`*`<strike>`*`)`](https://dankelley.github.io/whalestrike/reference/plot.strike.md)
  : Plot a strike object
- [`raymond2007`](https://dankelley.github.io/whalestrike/reference/raymond2007.md)
  : Whale blubber stress-strain relationship
- [`server()`](https://dankelley.github.io/whalestrike/reference/server.md)
  : Server for app, with standard arguments.
- [`shipAreaFromMass()`](https://dankelley.github.io/whalestrike/reference/shipAreaFromMass.md)
  : Compute ship wetted area from mass
- [`shipMassFromLength()`](https://dankelley.github.io/whalestrike/reference/shipMassFromLength.md)
  : Compute ship displacement from vessel type and length
- [`shipWaterForce()`](https://dankelley.github.io/whalestrike/reference/shipWaterForce.md)
  : Ship Drag Force
- [`sol20200708`](https://dankelley.github.io/whalestrike/reference/sol20200708.md)
  : Reference strike() solution
- [`stressFromLethalityIndex()`](https://dankelley.github.io/whalestrike/reference/stressFromLethalityIndex.md)
  : Compute stress, based on lethality index
- [`stressFromStrainFunction()`](https://dankelley.github.io/whalestrike/reference/stressFromStrainFunction.md)
  : Create a function for stress in laminated layers
- [`strike()`](https://dankelley.github.io/whalestrike/reference/strike.md)
  : Simulate the collision of a ship and a whale
- [`summary(`*`<parameters>`*`)`](https://dankelley.github.io/whalestrike/reference/summary.parameters.md)
  : Summarize a parameters object
- [`summary(`*`<strike>`*`)`](https://dankelley.github.io/whalestrike/reference/summary.strike.md)
  : Summarize the parameters of a simulation, and its results
- [`updateParameters()`](https://dankelley.github.io/whalestrike/reference/updateParameters.md)
  : Update parameters
- [`whaleAreaFromLength()`](https://dankelley.github.io/whalestrike/reference/whaleAreaFromLength.md)
  : Whale projected area, as function of length
- [`whaleCompressionForce()`](https://dankelley.github.io/whalestrike/reference/whaleCompressionForce.md)
  : Whale compression force
- [`whaleLengthFromMass()`](https://dankelley.github.io/whalestrike/reference/whaleLengthFromMass.md)
  : Compute whale length from mass
- [`whaleMassFromLength()`](https://dankelley.github.io/whalestrike/reference/whaleMassFromLength.md)
  : Whale mass inferred from length
- [`whaleSkinForce()`](https://dankelley.github.io/whalestrike/reference/whaleSkinForce.md)
  : Skin force
- [`whaleWaterForce()`](https://dankelley.github.io/whalestrike/reference/whaleWaterForce.md)
  : Whale Drag Force
- [`whale_measurements`](https://dankelley.github.io/whalestrike/reference/whale_measurements.md)
  : Whale measurements
- [`whale_shape`](https://dankelley.github.io/whalestrike/reference/whale_shape.md)
  : Whale side-view shape

# Articles

### All vignettes

- [Using the whalestrike
  package](https://dankelley.github.io/whalestrike/articles/whalestrike.md):
