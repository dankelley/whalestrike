<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Set parameters for a whale strike simulation — parameters • whalestrike</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Set parameters for a whale strike simulation — parameters"><meta property="og:description" content="Assembles control parameters into a list suitable for passing to strike()
and the functions that it calls. If file is provided, then all the other
arguments are read from that source. Note that updateParameters() may
be used to modify the results of parameters, e.g. for use in sensitivity
tests."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">whalestrike</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/whalestrike.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dankelley/whalestrike/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set parameters for a whale strike simulation</h1>
    <small class="dont-index">Source: <a href="https://github.com/dankelley/whalestrike/blob/HEAD/R/parameters.R" class="external-link"><code>R/parameters.R</code></a></small>
    <div class="hidden name"><code>parameters.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Assembles control parameters into a list suitable for passing to <code><a href="strike.html">strike()</a></code>
and the functions that it calls. If <code>file</code> is provided, then all the other
arguments are read from that source. Note that <code><a href="updateParameters.html">updateParameters()</a></code> may
be used to modify the results of <code>parameters</code>, e.g. for use in sensitivity
tests.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">parameters</span><span class="op">(</span></span>
<span>  ms <span class="op">=</span> <span class="fl">45000</span>,</span>
<span>  Ss <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Ly <span class="op">=</span> <span class="fl">1.15</span>,</span>
<span>  Lz <span class="op">=</span> <span class="fl">1.15</span>,</span>
<span>  species <span class="op">=</span> <span class="st">"N. Atl. Right Whale"</span>,</span>
<span>  lw <span class="op">=</span> <span class="fl">13.7</span>,</span>
<span>  mw <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Sw <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  l <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  a <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  b <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  s <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  theta <span class="op">=</span> <span class="fl">55</span>,</span>
<span>  Cs <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  Cw <span class="op">=</span> <span class="fl">0.0025</span>,</span>
<span>  logistic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>logStressCenter <span class="op">=</span> <span class="fl">5.38</span>, logStressWidth <span class="op">=</span> <span class="fl">0.349</span>, tau25 <span class="op">=</span> <span class="fl">1e+05</span>, tau50 <span class="op">=</span></span>
<span>    <span class="fl">241000</span>, tau75 <span class="op">=</span> <span class="fl">581000</span><span class="op">)</span>,</span>
<span>  file <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-ms">ms<a class="anchor" aria-label="anchor" href="#arg-ms"></a></dt>
<dd><p>Ship mass (kg).</p></dd>


<dt id="arg-ss">Ss<a class="anchor" aria-label="anchor" href="#arg-ss"></a></dt>
<dd><p>Ship wetted area (m^2). This, together with <code>Cs</code>, is used by
<code><a href="shipWaterForce.html">shipWaterForce()</a></code> to estimate ship drag force. If <code>Ss</code>
is not given, then an estimate is made by calling <code><a href="shipAreaFromMass.html">shipAreaFromMass()</a></code> with
the provided value of <code>ms</code>.</p></dd>


<dt id="arg-ly">Ly<a class="anchor" aria-label="anchor" href="#arg-ly"></a></dt>
<dd><p>Ship impact horizontal extent (m); defaults to 1.15m if not specified,
based on an analysis of the shape of the bow of typical coastal fishing boats
of the Cape Islander variety.</p></dd>


<dt id="arg-lz">Lz<a class="anchor" aria-label="anchor" href="#arg-lz"></a></dt>
<dd><p>Ship impact vertical extent (m); defaults to 1.15m if not specified,
based on the same analysis as for Ly.</p></dd>


<dt id="arg-species">species<a class="anchor" aria-label="anchor" href="#arg-species"></a></dt>
<dd><p>A string indicating the whale species. For the permitted values,
see <code><a href="whaleMassFromLength.html">whaleMassFromLength()</a></code>.</p></dd>


<dt id="arg-lw">lw<a class="anchor" aria-label="anchor" href="#arg-lw"></a></dt>
<dd><p>Whale length (m). This is used by <code><a href="whaleAreaFromLength.html">whaleAreaFromLength()</a></code> to
calculate area, which is needed for the water drag calculation done by
<code><a href="whaleWaterForce.html">whaleWaterForce()</a></code>.</p></dd>


<dt id="arg-mw">mw<a class="anchor" aria-label="anchor" href="#arg-mw"></a></dt>
<dd><p>Whale mass (kg). If this value is not provided, then
it is calculated from whale length, using <code><a href="whaleMassFromLength.html">whaleMassFromLength()</a></code>
with <code>type="wetted"</code>.</p></dd>


<dt id="arg-sw">Sw<a class="anchor" aria-label="anchor" href="#arg-sw"></a></dt>
<dd><p>Whale surface area (m^2). If not provided, this is calculated
from whale length using <code><a href="whaleAreaFromLength.html">whaleAreaFromLength()</a></code>.</p></dd>


<dt id="arg-l">l<a class="anchor" aria-label="anchor" href="#arg-l"></a></dt>
<dd><p>Numerical vector of length 4, giving thickness (m) of skin, blubber,
sublayer, and bone. If not provided, this is set to
<code>c(0.025, 0.16, 1.12, 0.1)</code>.
The skin thickness default of 0.025 m represents the 0.9-1.0 inch value
stated in Section 2.2.3 of Raymond (2007).
The blubber default of 0.16 m is a rounded average of the values inferred
by whale necropsy, reported in Appendix 2 of Daoust et al., 2018.
The sublayer default of 1.12 m may be reasonable at some spots on the whale body.
The bone default of 0.1 m may be reasonable at some spots on the whale body.
The sum of these default values, 1.40 m, is a whale radius that
is consistent with a half-circumference of 4.4 m, reported in Table 2.2
of Raymond (2007).</p></dd>


<dt id="arg-a-b">a, b<a class="anchor" aria-label="anchor" href="#arg-a-b"></a></dt>
<dd><p>Numerical vectors of length 4, giving values to use in the
stress-strain law <code>stress=a*(exp(b*strain)-1)</code>, where <code>a</code> is in Pa
and <code>b</code> is unitless. By construction, <code>a*b</code> is the local modulus at
low strain (i.e. at low <code>b*strain</code> values), and that <code>b</code> is the
efolding scale for nonlinear increase in stress with strain.
This exponential relationship has been mapped out
for whale blubber, using a curve fit to Figure 2.13 of Raymond (2007), and
these values are used for the second layer (blubber); see
the documentation for the <a href="raymond2007.html">raymond2007</a> dataset, to see
for how that fit was done.
If not provided, <code>a</code> defaults to
<code>c(17.8e6/0.1, 1.58e5, 1.58e5, 8.54e8/0.1)</code>
and <code>b</code> defaults to
<code>c(0.1, 2.54, 2.54, 0.1)</code>.
The skin defaults are set up to give a linear shape (since <code>b</code> is small)
with the <code>a*b</code> product
being 17.8e6 Pa, which is the adult-seal value
given in Table 3 of Grear et al. (2017).
The blubber defaults are from a regression of the stress-strain
relationship shown in Figure 2.13 of Raymond (2007).
The sublayer defaults are set to match those of blubber, lacking
any other information.
The bone default for <code>b</code> is small, to set up a linear function,
and <code>a*b</code> is set to equal 8.54e8 Pa,
given in Table 2.3 of Raymond (2007) and Table 4.5 of
Campbell-Malone (2007).</p></dd>


<dt id="arg-s">s<a class="anchor" aria-label="anchor" href="#arg-s"></a></dt>
<dd><p>Numerical vector of length 4, giving the ultimate strengths (Pa) of
skin, blubber, sublayer, and bone, respectively. If not provided, the
value is set to <code>1e6 * c(19.600,0.255,0.255,22.900)</code>
with reasoning as follows.
The skin default of 19.6 MPa
is a rounded value from Table 3 of Grear et al. (2018) for adult seal skin strength at
an orientation of 0 degrees.  The blubber and sublayer values were chosen
as the central point of a logistic fit of whale collision damage
to maximal stress during a default impact simulation.
(For comparison, a strength of
0.437 MPa may be inferred by
multiplying Raymond's (2007) Figure 2.13 elastic modulus of 0.636 MPa
by the ratio 0.97/1.41 determined for adult seal strength/modulus, as reported
in Table 3 of Grear et al. (2018).)
The bone default o 22.9 MPa is from Table 2.3 of Raymond (2007) and
Table 4.5 of Campbell-Malone (2007).</p></dd>


<dt id="arg-theta">theta<a class="anchor" aria-label="anchor" href="#arg-theta"></a></dt>
<dd><p>Whale skin deformation angle (deg); defaults to 55 degrees,
if not supplied, because that angle produces a good match to Raymond's (2007)
Figure 6.1 for the total force as a function of vessel speed, for large
vessels. Note that the match works almost as well in the range 50 deg
to 70 deg.</p></dd>


<dt id="arg-cs">Cs<a class="anchor" aria-label="anchor" href="#arg-cs"></a></dt>
<dd><p>Drag coefficient for ship (dimensionless),
used by <code><a href="shipWaterForce.html">shipWaterForce()</a></code> to estimate ship drag force. Defaults
to 1e-2, which is 4 times the frictional coefficient of 2.5e-3
inferred from Figure 4 of Manen and van Oossanen (1988), assuming
a Reynolds number of 5e7, computed from speed 5m/s, lengthscale 10m
and viscosity 1e-6 m^2/s. The factor of 4 is under the assumption
that frictional drag is about a quarter of total drag.
The drag force is computed with <code><a href="shipWaterForce.html">shipWaterForce()</a></code>.</p></dd>


<dt id="arg-cw">Cw<a class="anchor" aria-label="anchor" href="#arg-cw"></a></dt>
<dd><p>Drag coefficient for whale (dimensionless),
used by <code><a href="whaleWaterForce.html">whaleWaterForce()</a></code> to estimate whale drag force.
Defaults to 2.5e-3, for Reynolds number 2e7, computed from speed
2 m/s, lengthscale 5m which is chosen to be between radius and length, and
viscosity 1e-6 m^2/s.  The drag force is computed with
<code><a href="whaleWaterForce.html">whaleWaterForce()</a></code>.</p></dd>


<dt id="arg-logistic">logistic<a class="anchor" aria-label="anchor" href="#arg-logistic"></a></dt>
<dd><p>a <a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> containing <code>logStressCenter</code> and <code>logStressWidth</code>,
which define an empirical logistic fit of an index of whale injury in
observed strikes (ranging from 0 for no injury to 1 for fatal injury),
as a function of the base-10 logarithm of compressive
stress, as well as <code>tau25</code>, <code>tau50</code> and <code>tau75</code>, which are the stresses
in that fit that yield index values of 0.25, 0.50 and 0.75, respectively;
these values set colour boundaries in <code><a href="plot.strike.html">plot.strike()</a></code> plots that have
<code>which="threat"</code>.</p></dd>


<dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>Optional name a comma-separated file that holds all of the
previous values, except <code>Cs</code> and <code>Cw</code>. If provided,
then other parameters except <code>Cs</code> and <code>Cw</code> are
ignored, because values are sought from the file. The purpose of
this is in shiny apps that want to save a simulation framework.
The file should be saved <code><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv()</a></code> with
<code>row.names=FALSE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A named list holding the parameters, with defaults and alternatives reconciled
according to the system described above, along with some items used internally,
including <code>lsum</code>, which is the sum of the values in <code>l</code>, and <code>stressFromStrain()</code>,
a function created by <code><a href="stressFromStrainFunction.html">stressFromStrainFunction()</a></code> that computes compression
force from engineering strain.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Campbell-Malone, Regina. "Biomechanics of North Atlantic Right Whale Bone:
Mandibular Fracture as a Fatal Endpoint for Blunt Vessel-Whale Collision
Modeling." PhD Thesis, Massachusetts Institute of Technology and Woods Hole
Oceanographic Institution, 2007. <a href="https://doi.org/10.1575/1912/1817" class="external-link">doi:10.1575/1912/1817</a>
.</p>
<p>Daoust, Pierre-Yves, Emilie L. Couture, Tonya Wimmer, and Laura Bourque.
"Incident Report. North Atlantic Right Whale Mortality Event in the Gulf of St.
Lawrence, 2017." Canadian Wildlife Health Cooperative, Marine Animal Response
Society, and Fisheries and Oceans Canada, 2018.
<a href="https://publications.gc.ca/site/eng/9.850838/publication.html" class="external-link">https://publications.gc.ca/site/eng/9.850838/publication.html</a>.</p>
<p>Grear, Molly E., Michael R. Motley, Stephanie B. Crofts, Amanda E. Witt, Adam
P. Summers, and Petra Ditsche. "Mechanical Properties of Harbor Seal Skin and
Blubber - a Test of Anisotropy." Zoology 126 (2018): 137-44.
<a href="https://doi.org/10.1016/j.zool.2017.11.002" class="external-link">doi:10.1016/j.zool.2017.11.002</a>
.</p>
<p>Raymond, J. J. "Development of a Numerical Model to Predict Impact Forces on a
North Atlantic Right Whale during Collision with a Vessel." University of New
Hampshire, 2007. <a href="https://scholars.unh.edu/thesis/309/" class="external-link">https://scholars.unh.edu/thesis/309/</a>.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Dan Kelley</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">parms</span> <span class="op">&lt;-</span> <span class="fu">parameters</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">epsilon</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, length.out <span class="op">=</span> <span class="fl">100</span><span class="op">)</span> <span class="co"># strain</span></span></span>
<span class="r-in"><span><span class="va">sigma</span> <span class="op">&lt;-</span> <span class="va">parms</span><span class="op">$</span><span class="fu">stressFromStrain</span><span class="op">(</span><span class="va">epsilon</span><span class="op">)</span> <span class="co"># stress</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">epsilon</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log10</a></span><span class="op">(</span><span class="va">sigma</span><span class="op">)</span>, xlab <span class="op">=</span> <span class="st">"Strain"</span>, ylab <span class="op">=</span> <span class="st">"log10(Stress [MPa])"</span>, type <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="st">"Note sudden increase in stress, when bone compression starts"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="parameters-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dan Kelley.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

